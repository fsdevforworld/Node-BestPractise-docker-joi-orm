{"version":3,"file":"error.js","names":["error","req","res","next","logger","APIError","status","send","code","message"],"sources":["../../../src/middlewares/error.js"],"sourcesContent":["/* eslint-disable no-unused-vars */\r\nimport { logger } from '../support/logger'\r\nimport { APIError } from '../utils/api-errors'\r\n\r\nexport default async (error, req, res, next) => {\r\n  logger.error(error)\r\n\r\n  // catch api error\r\n  if (error instanceof APIError) {\r\n    return res.status(error.status).send({\r\n      error: {\r\n        code: error.status,\r\n        message: error.message,\r\n      },\r\n    })\r\n  }\r\n\r\n  // connect all errors\r\n  return res.status(500).send({\r\n    error: {\r\n      code: 500,\r\n      message: 'Something went wrong!',\r\n    },\r\n  })\r\n}\r\n"],"mappings":";;;;;;;AACA;;AACA;;AAFA;eAIe,OAAOA,KAAP,EAAcC,GAAd,EAAmBC,GAAnB,EAAwBC,IAAxB,KAAiC;EAC9CC,cAAA,CAAOJ,KAAP,CAAaA,KAAb,EAD8C,CAG9C;;;EACA,IAAIA,KAAK,YAAYK,mBAArB,EAA+B;IAC7B,OAAOH,GAAG,CAACI,MAAJ,CAAWN,KAAK,CAACM,MAAjB,EAAyBC,IAAzB,CAA8B;MACnCP,KAAK,EAAE;QACLQ,IAAI,EAAER,KAAK,CAACM,MADP;QAELG,OAAO,EAAET,KAAK,CAACS;MAFV;IAD4B,CAA9B,CAAP;EAMD,CAX6C,CAa9C;;;EACA,OAAOP,GAAG,CAACI,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;IAC1BP,KAAK,EAAE;MACLQ,IAAI,EAAE,GADD;MAELC,OAAO,EAAE;IAFJ;EADmB,CAArB,CAAP;AAMD,C"}